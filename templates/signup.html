{% extends "base.html" %}
{% block content %}

<div class="wrapper">
    <div class="container">
        <h1 class="text-center mt-3">The Brown Bakers & Cafe.</h1>
    </div>
    <br /><br /><br />

    <div class="container">
        <section class="content">
            <div class="conatiner">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card card-primary">
                            <div class="card-header bg-primary">
                                <h3 class="card-title text-white">Login</h3>
                            </div>
                            <div>
                                <div class="{{prop}}">
                                    <span id="mess">{{data}}</span>
                                </div>
                            </div>
                            <form class="" action="/add" method="POST" onsubmit="return validation()">
                                <div class="card-body">
                                    <div class="form-group" data-validate="Username is reauired">
                                        <label for="user"> Username: </label>
                                        <input type="text" name="user" class="form-control" id="user"
                                            autocomplete="off">
                                        <span id="username" class="text-danger font-weight-bold"> </span>
                                    </div>

                                    <div class="form-group">
                                        <label> Email: </label>
                                        <input type="text" name="email" class="form-control" id="emails"
                                            autocomplete="off">
                                        <span id="emailids" class="text-danger font-weight-bold"> </span>
                                    </div>

                                    <div class="form-group">
                                        <label> Password: </label>
                                        <input type="password" name="pass" class="form-control" id="pass"
                                            autocomplete="off">
                                        <span id="passwords" class="text-danger font-weight-bold"> </span>
                                    </div>

                                    <div class="form-group">
                                        <label> Confirm Password: </label>
                                        <input type="password" name="conpass" class="form-control" id="conpass"
                                            autocomplete="off">
                                        <span id="confrmpass" class="text-danger font-weight-bold"> </span>
                                    </div>

                                    <div class="form-group">
                                        <label> Mobile Number: </label>
                                        <input type="text" name="mobile" class="form-control" id="mobileNumber"
                                            autocomplete="off">
                                        <span id="mobileno" class="text-danger font-weight-bold"> </span>
                                    </div>

                                    <div class="form-group form-check">
                                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                                        <label class="form-check-label" for="exampleCheck1">I agree to the <a
                                                href="#">terms of service</a></label>
                                    </div>

                                    <div class="form-group">
                                        <span>New user?</span>
                                        <a href="/signup">Register Here</a>
                                    </div>
                                </div>

                                <div class="card-footer">
                                    <button type="submit" class="btn btn-primary" id="btn">Submit</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>


</div>


</div>
<script>
    console.log("Message");
    function validation() {
            var user = document.getElementById('user').value;
            var pass = document.getElementById('pass').value;
            var confirmpass = document.getElementById('conpass').value;
            var mobileNumber = document.getElementById('mobileNumber').value;
            var emails = document.getElementById('emails').value;
            var mess = document.getElementById('mess').value;

            

            var usercheck = /^[A-Za-z]+$/;
            var passwordcheck = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;
            var emailcheck = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;

            var mobilecheck = /^(?:(?:\+|0{0,2})91(\s*[\-]\s*)?|[0]?)?[789]\d{9}$/;

            if (user == "") {
                alert("Invalid");
                document.getElementById('username').innerHTML = "Please fill Username**";
                return false;
            }

            if (usercheck.test(user)) {
                document.getElementById('username').innerHTML = "";
            } else {
                document.getElementById('username').innerHTML = "username is invalid**";
                alert('You enterd wrong username only characters are allowed')
                return false;
            }

            if (pass == "") {
                document.getElementById('passwords').innerHTML = "Please fill Password**";
                return false;
            }


            if (passwordcheck.test(pass)) {
                document.getElementById('passwords').innerHTML = "";
            } else {
                document.getElementById('passwords').innerHTML = "password is invalid**";
                alert('Minimum eight characters, at least one letter and one number are required for correct password');
                return false;
            }

            if (confirmpass == "") {
                document.getElementById('confrmpass').innerHTML = 'Please fill confirm password**';
                return false;
            }

            if (pass != confirmpass) {
                document.getElementById('confrmpass').innerHTML = " ** Password does not match the confirm password";
                return false;
            }

            if (mobileNumber == '') {
                document.getElementById('mobileno').innerHTML = "Please enter your Mobile Number**";
                return false;
            }

            if (mobilecheck.test(mobileNumber)) {
                document.getElementById('mobileno').innerHTML = "";
            } else {
                document.getElementById('mobileno').innerHTML = "Mobile No. is invalid**";
                return false;
            }

            if (emails == "") {
                document.getElementById('emailids').innerHTML = "Please fill your email**";
                return false;
            }

            if (emailcheck.test(emails)) {
                document.getElementById('emailids').innerHTML = "";
            } else {
                document.getElementById('emailids').innerHTML = "Email is invalid**";
                alert("You have entered an invalid email address!");
                return false;
            }

            if(mess==undefined){
                mess.innerHTML="Hello";
            }


}

</script>
{% endblock %}
